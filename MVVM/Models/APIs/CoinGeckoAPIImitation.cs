using CryptocurrencyWPFApp.MVVM.ViewModels;
using CryptocurrencyWPFApp.MVVM.Views;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http;
using System.Text;
using System.Threading.Tasks;
using System.Xml.Linq;

namespace CryptocurrencyWPFApp.MVVM.Models.APIs
{
	public class CoinGeckoAPIImitation
	{
		public List<T> GetTopNCurrenciesAsync<T>(int topN, int pageNum) where T : Currency
		{
			string jsonResponse = @"[
                {
                    ""id"": ""bitcoin"",
                    ""symbol"": ""btc"",
                    ""name"": ""Bitcoin"",
                    ""image"": ""https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579"",
                    ""current_price"": 30653,
                    ""market_cap"": 594714095450,
                    ""market_cap_rank"": 1,
                    ""fully_diluted_valuation"": 643380466216,
                    ""total_volume"": 9965585309,
                    ""high_24h"": 30984,
                    ""low_24h"": 30352,
                    ""price_change_24h"": -48.7645774168559,
                    ""price_change_percentage_24h"": -0.15883,
                    ""market_cap_change_24h"": -997756440.7813721,
                    ""market_cap_change_percentage_24h"": -0.16749,
                    ""circulating_supply"": 19411525.0,
                    ""total_supply"": 21000000.0,
                    ""max_supply"": 21000000.0,
                    ""ath"": 69045,
                    ""ath_change_percentage"": -55.62697,
                    ""ath_date"": ""2021-11-10T14:24:11.849Z"",
                    ""atl"": 67.81,
                    ""atl_change_percentage"": 45081.69126,
                    ""atl_date"": ""2013-07-06T00:00:00.000Z"",
                    ""roi"": null,
                    ""last_updated"": ""2023-06-25T11:51:02.955Z""
                },
                {
                    ""id"": ""ethereum"",
                    ""symbol"": ""eth"",
                    ""name"": ""Ethereum"",
                    ""image"": ""https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880"",
                    ""current_price"": 1917.81,
                    ""market_cap"": 230418648749,
                    ""market_cap_rank"": 2,
                    ""fully_diluted_valuation"": 230418648749,
                    ""total_volume"": 6287838132,
                    ""high_24h"": 1925.7,
                    ""low_24h"": 1872.13,
                    ""price_change_24h"": 25.74,
                    ""price_change_percentage_24h"": 1.36024,
                    ""market_cap_change_24h"": 3067359550,
                    ""market_cap_change_percentage_24h"": 1.34917,
                    ""circulating_supply"": 120191632.878828,
                    ""total_supply"": 120191632.878828,
                    ""max_supply"": null,
                    ""ath"": 4878.26,
                    ""ath_change_percentage"": -60.72581,
                    ""ath_date"": ""2021-11-10T14:24:19.604Z"",
                    ""atl"": 0.432979,
                    ""atl_change_percentage"": 442392.05628,
                    ""atl_date"": ""2015-10-20T00:00:00.000Z"",
                    ""roi"": {
                        ""times"": 82.66201174159725,
                        ""currency"": ""btc"",
                        ""percentage"": 8266.201174159725
                    },
                    ""last_updated"": ""2023-06-25T11:51:08.553Z""
                },
                {
                    ""id"": ""tether"",
                    ""symbol"": ""usdt"",
                    ""name"": ""Tether"",
                    ""image"": ""https://assets.coingecko.com/coins/images/325/large/Tether.png?1668148663"",
                    ""current_price"": 1.0,
                    ""market_cap"": 83234624386,
                    ""market_cap_rank"": 3,
                    ""fully_diluted_valuation"": 83234624386,
                    ""total_volume"": 18858726698,
                    ""high_24h"": 1.003,
                    ""low_24h"": 0.998842,
                    ""price_change_24h"": -0.000622357435573262,
                    ""price_change_percentage_24h"": -0.06218,
                    ""market_cap_change_24h"": -33861149.12963867,
                    ""market_cap_change_percentage_24h"": -0.04067,
                    ""circulating_supply"": 83212018333.0169,
                    ""total_supply"": 83212018333.0169,
                    ""max_supply"": null,
                    ""ath"": 1.32,
                    ""ath_change_percentage"": -24.38776,
                    ""ath_date"": ""2018-07-24T00:00:00.000Z"",
                    ""atl"": 0.572521,
                    ""atl_change_percentage"": 74.73978,
                    ""atl_date"": ""2015-03-02T00:00:00.000Z"",
                    ""roi"": null,
                    ""last_updated"": ""2023-06-25T11:50:00.485Z""
                },
                {
                    ""id"": ""binancecoin"",
                    ""symbol"": ""bnb"",
                    ""name"": ""BNB"",
                    ""image"": ""https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png?1644979850"",
                    ""current_price"": 239.77,
                    ""market_cap"": 37350249343,
                    ""market_cap_rank"": 4,
                    ""fully_diluted_valuation"": 47929424622,
                    ""total_volume"": 772936882,
                    ""high_24h"": 245.91,
                    ""low_24h"": 232.36,
                    ""price_change_24h"": -5.426927715396744,
                    ""price_change_percentage_24h"": -2.21328,
                    ""market_cap_change_24h"": -859426794.8578186,
                    ""market_cap_change_percentage_24h"": -2.24924,
                    ""circulating_supply"": 155855196.0,
                    ""total_supply"": 157900174.0,
                    ""max_supply"": 200000000.0,
                    ""ath"": 686.31,
                    ""ath_change_percentage"": -65.09064,
                    ""ath_date"": ""2021-05-10T07:24:17.097Z"",
                    ""atl"": 0.0398177,
                    ""atl_change_percentage"": 601605.41933,
                    ""atl_date"": ""2017-10-19T00:00:00.000Z"",
                    ""roi"": null,
                    ""last_updated"": ""2023-06-25T11:51:07.455Z""
                },
                {
                    ""id"": ""usd-coin"",
                    ""symbol"": ""usdc"",
                    ""name"": ""USD Coin"",
                    ""image"": ""https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389"",
                    ""current_price"": 1.001,
                    ""market_cap"": 28487811443,
                    ""market_cap_rank"": 5,
                    ""fully_diluted_valuation"": 28487811443,
                    ""total_volume"": 2753665500,
                    ""high_24h"": 1.002,
                    ""low_24h"": 0.998344,
                    ""price_change_24h"": -0.000166759182765652,
                    ""price_change_percentage_24h"": -0.01666,
                    ""market_cap_change_24h"": 25411597,
                    ""market_cap_change_percentage_24h"": 0.08928,
                    ""circulating_supply"": 28471794219.6511,
                    ""total_supply"": 28471794219.6511,
                    ""max_supply"": null,
                    ""ath"": 1.17,
                    ""ath_change_percentage"": -14.6803,
                    ""ath_date"": ""2019-05-08T00:40:28.300Z"",
                    ""atl"": 0.877647,
                    ""atl_change_percentage"": 14.00368,
                    ""atl_date"": ""2023-03-11T08:02:13.981Z"",
                    ""roi"": null,
                    ""last_updated"": ""2023-06-25T11:51:03.047Z""
                }
            ]";

			try
			{
				var topNCurrencies = JsonConvert.DeserializeObject<List<T>>(jsonResponse);

				return topNCurrencies;
			}
			catch (Exception)
			{

				throw;
			}
		}
        public CurrencyDetails GetCurrencyDetailsById(string id, string targetCurrencyId)
		{
            /*https://api.coingecko.com/api/v3/coins/bitcoin?localization=false&tickers=false&market_data=true&community_data=false&developer_data=false&sparkline=false*/
			
            string jsonResponse = @"{
  ""id"": ""bitcoin"",
  ""symbol"": ""btc"",
  ""name"": ""Bitcoin"",
  ""image"": {
    ""thumb"": ""https://assets.coingecko.com/coins/images/1/thumb/bitcoin.png?1547033579"",
    ""small"": ""https://assets.coingecko.com/coins/images/1/small/bitcoin.png?1547033579"",
    ""large"": ""https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579""
  },
  ""market_data"": {
    ""current_price"": {
      ""aed"": 111604,
      ""ars"": 7773628,
      ""aud"": 45944,
      ""bch"": 129.576,
      ""bdt"": 3289058,
      ""bhd"": 11456.82,
      ""bmd"": 30385,
      ""bnb"": 129.868,
      ""brl"": 147443,
      ""btc"": 1,
      ""cad"": 40293,
      ""chf"": 27250,
      ""clp"": 24272998,
      ""cny"": 220351,
      ""czk"": 659869,
      ""dkk"": 207262,
      ""dot"": 6053,
      ""eos"": 43537,
      ""eth"": 16.289385,
      ""eur"": 27833,
      ""gbp"": 24073,
      ""hkd"": 238027,
      ""huf"": 10329558,
      ""idr"": 455811880,
      ""ils"": 111619,
      ""inr"": 2493195,
      ""jpy"": 4390681,
      ""krw"": 39874739,
      ""kwd"": 9341.54,
      ""lkr"": 9333794,
      ""ltc"": 354.28,
      ""mmk"": 63838468,
      ""mxn"": 519130,
      ""myr"": 141943,
      ""ngn"": 23247203,
      ""nok"": 328725,
      ""nzd"": 49956,
      ""php"": 1680074,
      ""pkr"": 8712921,
      ""pln"": 124943,
      ""rub"": 2628454,
      ""sar"": 113963,
      ""sek"": 328329,
      ""sgd"": 41136,
      ""thb"": 1083040,
      ""try"": 791878,
      ""twd"": 942495,
      ""uah"": 1122584,
      ""usd"": 30385,
      ""vef"": 3042.44,
      ""vnd"": 715613002,
      ""xag"": 1335.95,
      ""xau"": 15.92,
      ""xdr"": 22800,
      ""xlm"": 292712,
      ""xrp"": 64195,
      ""yfi"": 4.869105,
      ""zar"": 569244,
      ""bits"": 1000871,
      ""link"": 5038,
      ""sats"": 100087076
    },
    ""market_cap"": {
      ""aed"": 2157892188725,
      ""ars"": 150313552855225,
      ""aud"": 888551618168,
      ""bch"": 2529378840,
      ""bdt"": 63594876443114,
      ""bhd"": 221520881326,
      ""bmd"": 587501276538,
      ""bnb"": 2522250642,
      ""brl"": 2852553698103,
      ""btc"": 19414306,
      ""cad"": 779375080947,
      ""chf"": 527227758074,
      ""clp"": 469331269775278,
      ""cny"": 4260500507327,
      ""czk"": 12762883606528,
      ""dkk"": 4007688720511,
      ""dot"": 117622859300,
      ""eos"": 847805349879,
      ""eth"": 316106432,
      ""eur"": 538208156933,
      ""gbp"": 465508398969,
      ""hkd"": 4601919236671,
      ""huf"": 199736316367300,
      ""idr"": 8814526811484772,
      ""ils"": 2155841221768,
      ""inr"": 48201041682486,
      ""jpy"": 84912641740037,
      ""krw"": 771100996143446,
      ""kwd"": 180621392459,
      ""lkr"": 180471596083412,
      ""ltc"": 6877128748,
      ""mmk"": 1234335118920683,
      ""mxn"": 10037382934489,
      ""myr"": 2744512213348,
      ""ngn"": 449491351666584,
      ""nok"": 6362530724673,
      ""nzd"": 967088201315,
      ""php"": 32470018789208,
      ""pkr"": 168466837636658,
      ""pln"": 2415995599539,
      ""rub"": 50788309179169,
      ""sar"": 2203499325321,
      ""sek"": 6348886007526,
      ""sgd"": 795526078540,
      ""thb"": 20942824267617,
      ""try"": 15311029980707,
      ""twd"": 18223115183162,
      ""uah"": 21705476124727,
      ""usd"": 587501276538,
      ""vef"": 58826502820,
      ""vnd"": 13836582880914760,
      ""xag"": 25816856471,
      ""xau"": 307715544,
      ""xdr"": 440849795390,
      ""xlm"": 5735881935214,
      ""xrp"": 1244844723664,
      ""yfi"": 94532301,
      ""zar"": 10998238334760,
      ""bits"": 19416320509231,
      ""link"": 97920062914,
      ""sats"": 1941632050923061
    },
    ""market_cap_rank"": 1,
    ""fully_diluted_valuation"": {
      ""aed"": 2334141429687,
      ""ars"": 162590648873039,
      ""aud"": 961125470132,
      ""bch"": 2735969838,
      ""bdt"": 68789088072753,
      ""bhd"": 239613947975,
      ""bmd"": 635486368006,
      ""bnb"": 2728259433,
      ""brl"": 3085540511217,
      ""btc"": 21000000,
      ""cad"": 843031767392,
      ""chf"": 570289915053,
      ""clp"": 507664639945452,
      ""cny"": 4608483592144,
      ""czk"": 13805312213431,
      ""dkk"": 4335023004723,
      ""dot"": 127229891467,
      ""eos"": 917051186247,
      ""eth"": 341924922,
      ""eur"": 582167155271,
      ""gbp"": 503529530149,
      ""hkd"": 4977788233588,
      ""huf"": 216050094384693,
      ""idr"": 9534467162574866,
      ""ils"": 2331922946776,
      ""inr"": 52137937628685,
      ""jpy"": 91848015403733,
      ""krw"": 834081883689912,
      ""kwd"": 195373928980,
      ""lkr"": 195211897749610,
      ""ltc"": 7438829063,
      ""mmk"": 1335151382559559,
      ""mxn"": 10857201984159,
      ""myr"": 2968674568141,
      ""ngn"": 486204265297883,
      ""nok"": 6882200436016,
      ""nzd"": 1046076652321,
      ""php"": 35122058680509,
      ""pkr"": 182226631761641,
      ""pln"": 2613325842825,
      ""rub"": 54936524270429,
      ""sar"": 2383473600949,
      ""sek"": 6867441265119,
      ""sgd"": 860501923135,
      ""thb"": 22653362402960,
      ""try"": 16561582453416,
      ""twd"": 19711516798303,
      ""uah"": 23478305050887,
      ""usd"": 635486368006,
      ""vef"": 63631250028,
      ""vnd"": 14966707566019098,
      ""xag"": 27925488858,
      ""xau"": 332848695,
      ""xdr"": 476856896311,
      ""xlm"": 6204369120353,
      ""xrp"": 1346519375812,
      ""yfi"": 102253376,
      ""zar"": 11896536761601,
      ""bits"": 21002179047443,
      ""link"": 105917838175,
      ""sats"": 2100217904744278
    },
    ""total_volume"": {
      ""aed"": 53730982724,
      ""ars"": 3742565626467,
      ""aud"": 22119230174,
      ""bch"": 62383397,
      ""bdt"": 1583496722095,
      ""bhd"": 5515815252,
      ""bmd"": 14628636734,
      ""bnb"": 62523943,
      ""brl"": 70985459751,
      ""btc"": 481863,
      ""cad"": 19398713343,
      ""chf"": 13119180853,
      ""clp"": 11686086454892,
      ""cny"": 106086873594,
      ""czk"": 317689869892,
      ""dkk"": 99785222605,
      ""dot"": 2914003270,
      ""eos"": 20960561918,
      ""eth"": 7842425,
      ""eur"": 13400123821,
      ""gbp"": 11590034826,
      ""hkd"": 114596878213,
      ""huf"": 4973102294244,
      ""idr"": 219447838267573,
      ""ils"": 53738414071,
      ""inr"": 1200333696831,
      ""jpy"": 2113866404868,
      ""krw"": 19197448872241,
      ""kwd"": 4497428077,
      ""lkr"": 4493698184711,
      ""ltc"": 170565935,
      ""mmk"": 30734639708373,
      ""mxn"": 249931721463,
      ""myr"": 68337676503,
      ""ngn"": 11192223678754,
      ""nok"": 158262817605,
      ""nzd"": 24051058683,
      ""php"": 808861269443,
      ""pkr"": 4194782663317,
      ""pln"": 60153115165,
      ""rub"": 1265453000109,
      ""sar"": 54866589165,
      ""sek"": 158071899267,
      ""sgd"": 19804760413,
      ""thb"": 521423127744,
      ""try"": 381244655100,
      ""twd"": 453758368531,
      ""uah"": 540460996504,
      ""usd"": 14628636734,
      ""vef"": 1464765396,
      ""vnd"": 344527497533909,
      ""xag"": 643186634,
      ""xau"": 7662334,
      ""xdr"": 10977051061,
      ""xlm"": 140924558205,
      ""xrp"": 30906454321,
      ""yfi"": 2344201,
      ""zar"": 274059156258,
      ""bits"": 481863098952,
      ""link"": 2425570706,
      ""sats"": 48186309895219
    },
    ""total_supply"": 21000000,
    ""max_supply"": 21000000,
    ""circulating_supply"": 19414306
  },
  ""public_interest_stats"": {
    ""alexa_rank"": 9440,
    ""bing_matches"": null
  },
  ""status_updates"": [],
  ""last_updated"": ""2023-06-28T14:38:41.825Z""
}";

			try
			{
				JObject jsonObject = JObject.Parse(jsonResponse);

                CurrencyDetails currency = new CurrencyDetails();
                currency.Id = (string)jsonObject["id"];
                currency.Symbol = (string)jsonObject["symbol"];
                currency.Name = (string)jsonObject["name"];
                currency.Image = (string)jsonObject["image"]["large"];
                currency.MarketCap = (decimal)jsonObject["market_data"]["market_cap"][targetCurrencyId];
                currency.Rank = (int)jsonObject["market_data"]["market_cap_rank"];
                currency.Price = (decimal)jsonObject["market_data"]["current_price"][targetCurrencyId];
                currency.FullyDilutedValuation = (decimal)jsonObject["market_data"]["fully_diluted_valuation"][targetCurrencyId];
                currency.TotalVolume = (decimal)jsonObject["market_data"]["total_volume"][targetCurrencyId];
                currency.TotalSupply = (decimal)jsonObject["market_data"]["total_supply"];
                currency.CirculatingSupply = (decimal)jsonObject["market_data"]["circulating_supply"];

				return currency;
			}
			catch (Exception)
			{

				throw;
			}
		}
        public List<Ticker> GetTickersByCurrencieId(string id)
        {
            string jsonResponse = "{\"name\":\"Bitcoin\",\"tickers\":[{\"base\":\"BTC\",\"target\":\"USDT\",\"market\":{\"name\":\"Binance\",\"identifier\":\"binance\",\"has_trading_incentive\":false},\"last\":30619.57,\"volume\":44282.944018793685,\"converted_last\":{\"btc\":1.000203,\"eth\":16.343658,\"usd\":30607},\"converted_volume\":{\"btc\":44292,\"eth\":723745,\"usd\":1355351463},\"trust_score\":\"green\",\"bid_ask_spread_percentage\":0.010033,\"timestamp\":\"2023-06-27T15:36:01+00:00\",\"last_traded_at\":\"2023-06-27T15:36:01+00:00\",\"last_fetch_at\":\"2023-06-27T15:36:01+00:00\",\"is_anomaly\":false,\"is_stale\":false,\"trade_url\":\"https://www.binance.com/en/trade/BTC_USDT?ref=37754157\",\"token_info_url\":null,\"coin_id\":\"bitcoin\",\"target_coin_id\":\"tether\"},{\"base\":\"BTC\",\"target\":\"USDT\",\"market\":{\"name\":\"BTCEX\",\"identifier\":\"btcex\",\"has_trading_incentive\":false},\"last\":30538.064,\"volume\":10072.4195,\"converted_last\":{\"btc\":1.000317,\"eth\":16.326153,\"usd\":30597},\"converted_volume\":{\"btc\":10040,\"eth\":163862,\"usd\":307091499},\"trust_score\":\"green\",\"bid_ask_spread_percentage\":0.010193,\"timestamp\":\"2023-06-27T15:49:09+00:00\",\"last_traded_at\":\"2023-06-27T15:49:09+00:00\",\"last_fetch_at\":\"2023-06-27T15:49:09+00:00\",\"is_anomaly\":false,\"is_stale\":false,\"trade_url\":\"https://www.btcex.com/spot?target=BTC-USDT\",\"token_info_url\":null,\"coin_id\":\"bitcoin\",\"target_coin_id\":\"tether\"}]}";

			try
			{
				JObject jsonObject = JObject.Parse(jsonResponse);

				var jsonArray = (JArray)jsonObject["tickers"];

                var tickers = new List<Ticker>();

				foreach (var jsonObj in jsonArray)
				{
                    tickers.Add(new Ticker()
                    {
                        Base = (string)jsonObj["base"],
                        Target = (string)jsonObj["target"],
                        MarketName = (string)jsonObj["market"]["name"],
                        TradeUrl = (string)jsonObj["trade_url"],
                        PriceInUSD = (string)jsonObj["converted_last"]["usd"]
					});
				}

				return tickers;
			}
			catch (Exception)
			{
				throw;
			}
		}
        public List<string> GetSupportedCurrencies()
        {
            //https://api.coingecko.com/api/v3/simple/supported_vs_currencies
            string jsonResponse = "[\r\n  \"btc\",\r\n  \"eth\",\r\n  \"ltc\",\r\n  \"bch\",\r\n  \"bnb\",\r\n  \"eos\",\r\n  \"xrp\",\r\n  \"xlm\",\r\n  \"link\",\r\n  \"dot\",\r\n  \"yfi\",\r\n  \"usd\",\r\n  \"aed\",\r\n  \"ars\",\r\n  \"aud\",\r\n  \"bdt\",\r\n  \"bhd\",\r\n  \"bmd\",\r\n  \"brl\",\r\n  \"cad\",\r\n  \"chf\",\r\n  \"clp\",\r\n  \"cny\",\r\n  \"czk\",\r\n  \"dkk\",\r\n  \"eur\",\r\n  \"gbp\",\r\n  \"hkd\",\r\n  \"huf\",\r\n  \"idr\",\r\n  \"ils\",\r\n  \"inr\",\r\n  \"jpy\",\r\n  \"krw\",\r\n  \"kwd\",\r\n  \"lkr\",\r\n  \"mmk\",\r\n  \"mxn\",\r\n  \"myr\",\r\n  \"ngn\",\r\n  \"nok\",\r\n  \"nzd\",\r\n  \"php\",\r\n  \"pkr\",\r\n  \"pln\",\r\n  \"rub\",\r\n  \"sar\",\r\n  \"sek\",\r\n  \"sgd\",\r\n  \"thb\",\r\n  \"try\",\r\n  \"twd\",\r\n  \"uah\",\r\n  \"vef\",\r\n  \"vnd\",\r\n  \"zar\",\r\n  \"xdr\",\r\n  \"xag\",\r\n  \"xau\",\r\n  \"bits\",\r\n  \"sats\"\r\n]";

			try
			{
                List<string> supportedCurrencySymbols = JsonConvert.DeserializeObject<List<string>>(jsonResponse);

				return supportedCurrencySymbols;
			}
			catch (Exception)
			{
				throw;
			}
		}
        public decimal GetCurrencyPriceById(string id, string targetCurrencyId)
        {
            //https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_market_cap=false&include_24hr_vol=false&include_24hr_change=false&include_last_updated_at=false

            try
            {
                CurrencyDetails currencyDetails = GetCurrencyDetailsById(id, targetCurrencyId);

                decimal price = currencyDetails.Price;

				return price;
            }
            catch (Exception)
            {

                throw;
            }
		}
		public CoinPriceChartData GetCurrencyHistorycalMarketData(string CurrencyId, string days)
        {
			//https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=1&interval=5

			string jsonResponse = @"{
  ""prices"": [
    [
      1687897856445,
      30618.431505410103
    ],
    [
      1687898144536,
      30599.99445396842
    ],
    [
      1687898421276,
      30592.669792640692
    ],
    [
      1687898741125,
      30590.36907363265
    ],
    [
      1687898996396,
      30589.86586259212
    ],
    [
      1687899293356,
      30624.644665680727
    ],
    [
      1687899624271,
      30644.64832067187
    ],
    [
      1687899931017,
      30650.255783694356
    ],
    [
      1687900217949,
      30652.1958205672
    ],
    [
      1687900516399,
      30639.583839970008
    ],
    [
      1687900844605,
      30631.55789035104
    ],
    [
      1687901163101,
      30644.142872470242
    ],
    [
      1687901479920,
      30644.046805704456
    ],
    [
      1687901745150,
      30649.292053895642
    ],
    [
      1687902051937,
      30640.995343217463
    ],
    [
      1687902348181,
      30665.806305357764
    ],
    [
      1687902603857,
      30695.58040473857
    ],
    [
      1687902910837,
      30762.427364040886
    ],
    [
      1687903272096,
      30738.091565569943
    ],
    [
      1687903528116,
      30741.115015009476
    ],
    [
      1687903807174,
      30731.552212534592
    ],
    [
      1687904115909,
      30725.663587147374
    ],
    [
      1687904424478,
      30712.66076441425
    ],
    [
      1687904722312,
      30686.466865774586
    ],
    [
      1687905096119,
      30673.51677183306
    ],
    [
      1687905310613,
      30680.727774715542
    ],
    [
      1687905650149,
      30661.275568969173
    ],
    [
      1687905905672,
      30649.97140808091
    ],
    [
      1687906227859,
      30625.199714219347
    ],
    [
      1687906503234,
      30601.389167021232
    ],
    [
      1687906833279,
      30600.522500461633
    ],
    [
      1687907108805,
      30594.552625449585
    ],
    [
      1687907425925,
      30605.7180507909
    ],
    [
      1687907712429,
      30608.630669330774
    ],
    [
      1687908031424,
      30648.074430507713
    ],
    [
      1687908341082,
      30626.236989111974
    ],
    [
      1687908659018,
      30632.85463912879
    ],
    [
      1687908904248,
      30637.958450193983
    ],
    [
      1687909211907,
      30661.264587992573
    ],
    [
      1687909499659,
      30643.01021604429
    ],
    [
      1687909808089,
      30670.238398972793
    ],
    [
      1687910105473,
      30693.54635606798
    ],
    [
      1687910476309,
      30677.02681166844
    ],
    [
      1687910734225,
      30666.263839388772
    ],
    [
      1687910990856,
      30662.534638586167
    ],
    [
      1687911319155,
      30593.456099148945
    ],
    [
      1687911618825,
      30595.796944569767
    ],
    [
      1687911925625,
      30575.354546378367
    ],
    [
      1687912286647,
      30579.73314262931
    ],
    [
      1687912511811,
      30523.417962325526
    ],
    [
      1687912830409,
      30516.044647046714
    ],
    [
      1687913117118,
      30513.286314415203
    ],
    [
      1687913413900,
      30512.69963395172
    ],
    [
      1687913732655,
      30529.469131733833
    ],
    [
      1687914041709,
      30601.864524971417
    ],
    [
      1687914309945,
      30628.86205718727
    ],
    [
      1687914617649,
      30617.164293725888
    ],
    [
      1687914925523,
      30635.197968046326
    ],
    [
      1687915254143,
      30577.042290679736
    ],
    [
      1687915551550,
      30562.822692912032
    ],
    [
      1687915861246,
      30571.94019821519
    ],
    [
      1687916148184,
      30559.897261696482
    ],
    [
      1687916477885,
      30560.789240115555
    ],
    [
      1687916734744,
      30510.66925057534
    ],
    [
      1687917001816,
      30514.032648297547
    ],
    [
      1687917310941,
      30514.817560790405
    ],
    [
      1687917639449,
      30499.5382132967
    ],
    [
      1687917916284,
      30517.428549005643
    ],
    [
      1687918224757,
      30540.759678587605
    ],
    [
      1687918523179,
      30535.54386954223
    ],
    [
      1687918810298,
      30521.22334126058
    ],
    [
      1687919118949,
      30508.289437570776
    ],
    [
      1687919466991,
      30533.16746388128
    ],
    [
      1687919724164,
      30525.520635052115
    ],
    [
      1687920061759,
      30545.790821686354
    ],
    [
      1687920317956,
      30542.262519725584
    ],
    [
      1687920656074,
      30531.80111716605
    ],
    [
      1687920922747,
      30513.493374613012
    ],
    [
      1687921202292,
      30439.163370224687
    ],
    [
      1687921499807,
      30438.91014789692
    ],
    [
      1687921828616,
      30441.472623965743
    ],
    [
      1687922128659,
      30432.05561111853
    ],
    [
      1687922485659,
      30433.064018264242
    ],
    [
      1687922763048,
      30442.5067821242
    ],
    [
      1687923001421,
      30469.846692282834
    ],
    [
      1687923298811,
      30449.53433964389
    ],
    [
      1687923668911,
      30457.513083442183
    ],
    [
      1687923948113,
      30460.544381088206
    ],
    [
      1687924212766,
      30456.41367370499
    ],
    [
      1687924519900,
      30468.148539054357
    ],
    [
      1687924906753,
      30453.522638559632
    ],
    [
      1687925162652,
      30463.729933586448
    ],
    [
      1687925470704,
      30459.33408301156
    ],
    [
      1687925696511,
      30451.76795171114
    ],
    [
      1687925999556,
      30462.506679251394
    ],
    [
      1687926297073,
      30437.04941485683
    ],
    [
      1687926594163,
      30420.787220157166
    ],
    [
      1687926892398,
      30433.80194089315
    ],
    [
      1687927211286,
      30458.73632989582
    ],
    [
      1687927529733,
      30445.42687858052
    ],
    [
      1687927879180,
      30461.167867396056
    ],
    [
      1687928115667,
      30457.386223054567
    ],
    [
      1687928443767,
      30484.065345447125
    ],
    [
      1687928711046,
      30479.74446849667
    ],
    [
      1687929029953,
      30463.046655033184
    ],
    [
      1687929336126,
      30452.955196809267
    ],
    [
      1687929613249,
      30459.348887134074
    ],
    [
      1687929919876,
      30440.039899070336
    ],
    [
      1687930240672,
      30440.91776974537
    ],
    [
      1687930508024,
      30428.416760199525
    ],
    [
      1687930836548,
      30428.783746338664
    ],
    [
      1687931135189,
      30459.886065480594
    ],
    [
      1687931433929,
      30461.744606283326
    ],
    [
      1687931700741,
      30462.36877946909
    ],
    [
      1687932008106,
      30455.037294765945
    ],
    [
      1687932305060,
      30440.544699657978
    ],
    [
      1687932602234,
      30446.384092761957
    ],
    [
      1687932920896,
      30454.642183461583
    ],
    [
      1687933249338,
      30454.161988494583
    ],
    [
      1687933525015,
      30411.243106656075
    ],
    [
      1687933842931,
      30415.808172213154
    ],
    [
      1687934130444,
      30441.27489337084
    ],
    [
      1687934397150,
      30435.35084817276
    ],
    [
      1687934724947,
      30448.87859413154
    ],
    [
      1687935034030,
      30442.302872106487
    ],
    [
      1687935323105,
      30431.071044988646
    ],
    [
      1687935620711,
      30429.001564049908
    ],
    [
      1687935908464,
      30393.094219323513
    ],
    [
      1687936237998,
      30405.975868985777
    ],
    [
      1687936546158,
      30394.869416490812
    ],
    [
      1687936844747,
      30339.329051017423
    ],
    [
      1687937092011,
      30344.055401752994
    ],
    [
      1687937411846,
      30377.8576396
    ],
    [
      1687937731153,
      30330.19872942898
    ],
    [
      1687938088022,
      30306.557967498222
    ],
    [
      1687938334053,
      30290.551893680793
    ],
    [
      1687938681687,
      30252.22293016975
    ],
    [
      1687938949314,
      30180.930217518555
    ],
    [
      1687939267289,
      30178.660969637123
    ],
    [
      1687939545796,
      30180.94970858871
    ],
    [
      1687939872640,
      30186.98278826474
    ],
    [
      1687940142198,
      30181.482952719387
    ],
    [
      1687940450692,
      30211.810790429947
    ],
    [
      1687940757315,
      30251.997908317728
    ],
    [
      1687941036641,
      30257.15109627116
    ],
    [
      1687941345570,
      30253.23191153777
    ],
    [
      1687941613020,
      30246.166573151113
    ],
    [
      1687941900956,
      30261.214724077978
    ],
    [
      1687942207014,
      30233.09792459597
    ],
    [
      1687942504886,
      30262.471294367937
    ],
    [
      1687942803819,
      30270.93176226537
    ],
    [
      1687943144996,
      30253.14333337285
    ],
    [
      1687943487938,
      30248.54313011659
    ],
    [
      1687943703794,
      30249.972159438432
    ],
    [
      1687944000655,
      30260.894824451734
    ],
    [
      1687944328700,
      30258.066451864226
    ],
    [
      1687944656559,
      30327.758097410777
    ],
    [
      1687944944125,
      30332.501825819734
    ],
    [
      1687945210942,
      30326.829706426404
    ],
    [
      1687945508592,
      30315.94256113485
    ],
    [
      1687945827680,
      30309.547544143246
    ],
    [
      1687946125610,
      30297.077325251306
    ],
    [
      1687946472158,
      30309.083219457636
    ],
    [
      1687946759015,
      30307.768250998917
    ],
    [
      1687947046434,
      30301.784711937915
    ],
    [
      1687947322582,
      30297.190324268322
    ],
    [
      1687947651054,
      30298.542778143175
    ],
    [
      1687947930239,
      30299.765413586025
    ],
    [
      1687948299120,
      30302.223959053674
    ],
    [
      1687948535208,
      30312.95805039491
    ],
    [
      1687948831787,
      30333.151267308825
    ],
    [
      1687949130622,
      30323.045639196123
    ],
    [
      1687949429527,
      30331.451321799614
    ],
    [
      1687949757859,
      30326.664152114467
    ],
    [
      1687950035719,
      30334.234501781015
    ],
    [
      1687950332484,
      30338.450962225354
    ],
    [
      1687950651239,
      30337.48680469394
    ],
    [
      1687950938387,
      30333.914656697347
    ],
    [
      1687951235873,
      30340.39054783488
    ],
    [
      1687951545884,
      30343.402139621016
    ],
    [
      1687951843026,
      30348.056677528133
    ],
    [
      1687952129708,
      30342.19797702375
    ],
    [
      1687952437620,
      30347.03086949185
    ],
    [
      1687952736164,
      30365.45934600613
    ],
    [
      1687953043917,
      30373.755469213156
    ],
    [
      1687953300099,
      30365.94644623768
    ],
    [
      1687953610442,
      30356.262770199464
    ],
    [
      1687953906600,
      30300.112254405904
    ],
    [
      1687954288265,
      30284.48420230075
    ],
    [
      1687954493598,
      30276.006084525558
    ],
    [
      1687954812700,
      30277.013891088594
    ],
    [
      1687955121815,
      30305.357595308706
    ],
    [
      1687955429753,
      30309.873807927353
    ],
    [
      1687955749075,
      30332.483884168672
    ],
    [
      1687956056720,
      30316.095975138254
    ],
    [
      1687956333509,
      30223.015163481476
    ],
    [
      1687956682939,
      30263.384226912403
    ],
    [
      1687956921048,
      30251.58768576929
    ],
    [
      1687957264329,
      30098.49319936007
    ],
    [
      1687957502358,
      30073.868397898357
    ],
    [
      1687957821468,
      30073.85070212852
    ],
    [
      1687958129818,
      30166.992723379244
    ],
    [
      1687958396549,
      30166.192161548064
    ],
    [
      1687958703934,
      30163.210833491736
    ],
    [
      1687959024884,
      30162.45636161822
    ],
    [
      1687959323206,
      30180.860007961062
    ],
    [
      1687959611560,
      30184.614078249324
    ],
    [
      1687959940092,
      30195.62045966381
    ],
    [
      1687960249701,
      30173.775667348502
    ],
    [
      1687960517651,
      30181.45399608657
    ],
    [
      1687960853062,
      30177.34386252665
    ],
    [
      1687961161360,
      30188.33045752025
    ],
    [
      1687961498765,
      30200.207915547864
    ],
    [
      1687961746841,
      30196.799066462714
    ],
    [
      1687962056383,
      30199.608820777717
    ],
    [
      1687962354930,
      30275.446417930565
    ],
    [
      1687962701300,
      30261.255619344
    ],
    [
      1687962916628,
      30327.907581854222
    ],
    [
      1687963245349,
      30450.803512143204
    ],
    [
      1687963542601,
      30458.586916254255
    ],
    [
      1687963870171,
      30418.222113079
    ],
    [
      1687964138034,
      30415.639640670775
    ],
    [
      1687964476931,
      30391.132702761683
    ],
    [
      1687964733502,
      30383.144595424426
    ],
    [
      1687965082513,
      30407.907597414607
    ],
    [
      1687965328489,
      30356.34703641829
    ],
    [
      1687965628552,
      30386.54232651214
    ],
    [
      1687965946721,
      30374.503702524726
    ],
    [
      1687966223433,
      30373.104095842475
    ],
    [
      1687966531492,
      30383.795860955448
    ],
    [
      1687966839922,
      30379.835871907526
    ],
    [
      1687967137491,
      30444.827112744893
    ],
    [
      1687967466270,
      30400.70878260752
    ],
    [
      1687967701567,
      30390.915410524896
    ],
    [
      1687968020745,
      30404.600869214308
    ],
    [
      1687968298269,
      30413.40973998819
    ],
    [
      1687968608829,
      30420.59407228828
    ],
    [
      1687968908065,
      30418.316495395968
    ],
    [
      1687969206098,
      30392.82230542819
    ],
    [
      1687969503256,
      30405.635085494512
    ],
    [
      1687969841719,
      30383.528314073206
    ],
    [
      1687970130855,
      30379.98873454855
    ],
    [
      1687970445389,
      30339.450119251665
    ],
    [
      1687970702016,
      30363.068871701187
    ],
    [
      1687971031406,
      30346.715302662986
    ],
    [
      1687971320575,
      30333.129666720717
    ],
    [
      1687971691757,
      30306.739357480987
    ],
    [
      1687971917572,
      30289.011669923286
    ],
    [
      1687972245761,
      30112.16636064836
    ],
    [
      1687972525255,
      30117.57699287413
    ],
    [
      1687972803714,
      30110.513871723466
    ],
    [
      1687973100895,
      30148.96759168473
    ],
    [
      1687973419885,
      30169.52431998867
    ],
    [
      1687973709580,
      30174.752505390887
    ],
    [
      1687974018618,
      30098.064721942108
    ],
    [
      1687974307278,
      30113.38573007971
    ],
    [
      1687974615652,
      30122.451159380376
    ],
    [
      1687974923727,
      30129.351513145535
    ],
    [
      1687975293599,
      30165.786328770137
    ],
    [
      1687975498825,
      30184.002793362826
    ],
    [
      1687975869980,
      30164.58953660656
    ],
    [
      1687976146628,
      30173.4028170059
    ],
    [
      1687976424504,
      30186.624068382942
    ],
    [
      1687976742822,
      30199.48174664203
    ],
    [
      1687976999956,
      30206.43080368866
    ],
    [
      1687977316984,
      30220.70733291953
    ],
    [
      1687977634628,
      30234.266611911316
    ],
    [
      1687977942020,
      30258.00781532829
    ],
    [
      1687978249918,
      30242.613118540794
    ],
    [
      1687978506929,
      30197.222962972308
    ],
    [
      1687978859494,
      30191.127651254246
    ],
    [
      1687979138302,
      30188.045064646638
    ],
    [
      1687979435203,
      30182.518357198212
    ],
    [
      1687979745389,
      30203.265118594343
    ],
    [
      1687980003210,
      30249.605748675356
    ],
    [
      1687980322110,
      30234.515334671596
    ],
    [
      1687980651535,
      30158.637246574024
    ],
    [
      1687980928258,
      30192.027569795642
    ],
    [
      1687981227046,
      30207.367501692097
    ],
    [
      1687981523900,
      30016.54640920967
    ],
    [
      1687981821991,
      30027.350655280487
    ],
    [
      1687982151409,
      30073.870146712616
    ],
    [
      1687982418285,
      30113.377866157047
    ],
    [
      1687982737714,
      30079.37468317627
    ],
    [
      1687983047565,
      30037.429055544893
    ],
    [
      1687983303403,
      30019.666467572642
    ],
    [
      1687983599841,
      30032.144607908678
    ],
    [
      1687983921970,
      30053.143535656218
    ],
    [
      1687984074000,
      30047.36367892102
    ]
  ]
}";

			try
			{
				CoinPriceChartData chartData = JsonConvert.DeserializeObject<CoinPriceChartData>(jsonResponse);

				return chartData;
			}
			catch (Exception)
			{

				throw;
			}
		}
	}
}
